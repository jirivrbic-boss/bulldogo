<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Services - Jednoduch√° verze</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; }
        .services-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        .service-card { border: 1px solid #ddd; padding: 20px; border-radius: 8px; background: white; }
        .loading { text-align: center; padding: 40px; }
        .error { color: red; }
        .success { color: green; }
        .log { background: #f8f9fa; padding: 10px; margin: 10px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Services - Jednoduch√° verze</h1>
        <div id="log"></div>
        
        <div class="services-grid" id="servicesGrid">
            <div class="loading">
                <p>Naƒç√≠t√°n√≠ slu≈æeb...</p>
            </div>
        </div>
    </div>
    
    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getAuth } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        
        const firebaseConfig = {
            apiKey: "AIzaSyA1FEmsY458LLKQLGcUaOVXsYr3Ii55QeQ",
            authDomain: "inzerio-inzerce.firebaseapp.com",
            projectId: "inzerio-inzerce",
            storageBucket: "inzerio-inzerce.firebasestorage.app",
            messagingSenderId: "262039290071",
            appId: "1:262039290071:web:30af0eb1c65cd75e307092",
            measurementId: "G-7VD0ZE08M3"
        };
        
        const app = initializeApp(firebaseConfig);
        const firebaseAuth = getAuth(app);
        const firebaseDb = getFirestore(app);
        
        window.firebaseApp = app;
        window.firebaseAuth = firebaseAuth;
        window.firebaseDb = firebaseDb;
        
        console.log('‚úÖ Firebase inicializov√°n');
    </script>
    
    <script>
        function log(message, type = 'info') {
            const logDiv = document.getElementById('log');
            const div = document.createElement('div');
            div.className = `log ${type}`;
            div.innerHTML = `${new Date().toLocaleTimeString()}: ${message}`;
            logDiv.appendChild(div);
            console.log(message);
        }
        
        // Jednoduch√° verze services.js
        let allServices = [];
        let filteredServices = [];
        
        function initServices() {
            log('üöÄ Inicializuji slu≈æby...', 'info');
            
            // Vytvo≈ôit testovac√≠ slu≈æby
            allServices = [
                {
                    id: '1',
                    title: "Oprava poƒç√≠taƒç≈Ø",
                    description: "Profesion√°ln√≠ oprava poƒç√≠taƒç≈Ø a notebook≈Ø",
                    price: "500 Kƒç/hod",
                    location: "Praha",
                    category: "it"
                },
                {
                    id: '2',
                    title: "Instalace n√°bytku",
                    description: "Mont√°≈æ a instalace n√°bytku v≈°ech typ≈Ø",
                    price: "800 Kƒç/hod",
                    location: "Brno",
                    category: "technical"
                },
                {
                    id: '3',
                    title: "Douƒçov√°n√≠ matematiky",
                    description: "Douƒçov√°n√≠ matematiky pro z√°kladn√≠ a st≈ôedn√≠ ≈°koly",
                    price: "400 Kƒç/hod",
                    location: "Ostrava",
                    category: "education"
                }
            ];
            
            filteredServices = [...allServices];
            displayServices();
            log(`‚úÖ Naƒçteno ${allServices.length} slu≈æeb`, 'success');
        }
        
        function displayServices() {
            const servicesGrid = document.getElementById('servicesGrid');
            if (!servicesGrid) {
                log('‚ùå Element servicesGrid nenalezen!', 'error');
                return;
            }
            
            if (filteredServices.length === 0) {
                servicesGrid.innerHTML = '<div class="loading"><p>≈Ω√°dn√© slu≈æby nenalezeny</p></div>';
                return;
            }
            
            servicesGrid.innerHTML = filteredServices.map(service => `
                <div class="service-card">
                    <h3>${service.title}</h3>
                    <p>${service.description}</p>
                    <p><strong>Cena:</strong> ${service.price}</p>
                    <p><strong>Lokalita:</strong> ${service.location}</p>
                </div>
            `).join('');
            
            log(`‚úÖ Zobrazeno ${filteredServices.length} slu≈æeb`, 'success');
        }
        
        // Inicializace
        document.addEventListener('DOMContentLoaded', () => {
            log('üöÄ DOM loaded', 'info');
            
            // Poƒçkat na Firebase
            const checkFirebase = setInterval(() => {
                if (window.firebaseAuth && window.firebaseDb) {
                    log('‚úÖ Firebase nalezen', 'success');
                    initServices();
                    clearInterval(checkFirebase);
                } else {
                    log('‚è≥ ƒåek√°m na Firebase...', 'info');
                }
            }, 100);
            
            // Timeout po 5 sekund√°ch
            setTimeout(() => {
                if (!window.firebaseAuth || !window.firebaseDb) {
                    log('‚ö†Ô∏è Firebase timeout, pou≈æ√≠v√°m lok√°ln√≠ data', 'error');
                    initServices();
                }
            }, 5000);
        });
    </script>
</body>
</html>
